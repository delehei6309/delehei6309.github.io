webpackJsonp([11],{500:function(t,e,a){var r=a(224)(a(541),a(597),null,null);t.exports=r.exports},541:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(225);e.default={name:"spend-detail",data:function(){return{mer_uuid:this.$store.state.mer_uuid,date:"",tran_type:"",tranTypeOptions:[{value:1,label:"充值"},{value:2,label:"提现"},{value:3,label:"转账"},{value:4,label:"分账"},{value:5,label:"虚拟账户上账"},{value:6,label:"虚拟账户下账"},{value:7,label:"冻结账户金额"},{value:8,label:"解冻账户金额"},{value:9,label:"消费"},{value:10,label:"退款"}],tableData:[],page_no:1,page_size:10,total_size:20,realQuery:{start_date:"",end_date:"",tran_type:""}}},created:function(){this.getData()},computed:{start_date:function(){return this.date[0]},end_date:function(){return this.date[1]}},components:{},methods:{getData:function(){var t=this,e=this.page_no,a=this.page_size,n=this.realQuery,s=n.start_date,l=n.end_date,_=n.tran_type,u={id:"1",tran_uuid:"母交易uuid",sub_tran_uuid:"每一笔子交易uuid",tran_type:1,source_account_uuid:"23455",source_account_no:"4444444",source_user_uuid:"566788",source_mer_uuid:"67883eerrrg",money_type:"4",target_account_uuid:"3273829f",target_account_no:"236872648",target_user_uuid:"3293fe",target_mer_uuid:"ewej48484",amount:235e3,balance_total:34455e3,currency:"$",tran_status:1,accounting_category_code:3,created_time:"2018-11-21",updated_time:"2019-01-01"};this.tableData.push(u),r.a.get("/bizeff/merchants/"+this.mer_uuid+"/accounts/statement",{start_date:s,end_date:l,tran_type:_,page_no:e,page_size:a}).then(function(e){200==e.resp_code?(t.tableData=[],t.total_size=e.data.total_size,e.data.transaction_data.map(function(e){t.tableData.push(e)})):t.$message({type:"error",message:e.resp_message,showClose:!0})})},handleSizeChange:function(t){this.page_size=t,this.getData()},handleCurrentChange:function(t){this.page_no=t,this.getData()},handleClick:function(t,e){},search:function(){this.realQuery.start_date=this.start_date,this.realQuery.end_date=this.end_date,this.realQuery.tran_type=this.tran_type,this.getData()},output:function(){var t=this,e=this.realQuery,a=e.start_date,n=e.end_date,s=e.tran_type;r.a.get("bizeff/merchants/"+this.mer_uuid+"/accounts/"+this.accounts_uuid+"/export_statement",{start_date:a,end_date:n,tran_type:s}).then(function(e){200==e.resp_code&&t.$message({message:"ok",type:"error",showClose:!0})})}},destroyed:function(){}}},597:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spend-detail",attrs:{flex:"dir:top"}},[a("div",{staticClass:"table-header-bar",attrs:{"flex-box":"0",flex:"main:justify"}},[a("dl",{attrs:{flex:"cross:center"}},[a("dt",[t._v("交易日期：")]),t._v(" "),a("dd",[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),t._v(" "),a("dl",{attrs:{flex:"cross:center"}},[a("dt",[t._v("交易类型：")]),t._v(" "),a("dd",[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.tran_type,callback:function(e){t.tran_type=e},expression:"tran_type"}},t._l(t.tranTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.output}},[t._v("导出")])],1)]),t._v(" "),a("el-card",{attrs:{"flex-box":"1",shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"created_time",label:"交易时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tran_type",label:"交易类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.tran_type?[t._v("充值")]:t._e(),t._v(" "),2==e.row.tran_type?[t._v("提现")]:t._e(),t._v(" "),3==e.row.tran_type?[t._v("转账")]:t._e(),t._v(" "),4==e.row.tran_type?[t._v("分账")]:t._e(),t._v(" "),5==e.row.tran_type?[t._v("虚拟账户上账")]:t._e(),t._v(" "),6==e.row.tran_type?[t._v("虚拟账户下账")]:t._e(),t._v(" "),7==e.row.tran_type?[t._v("冻结账户金额")]:t._e(),t._v(" "),8==e.row.tran_type?[t._v("解冻账户金额")]:t._e(),t._v(" "),9==e.row.tran_type?[t._v("消费")]:t._e(),t._v(" "),10==e.row.tran_type?[t._v("退款")]:t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"账户动账(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("currencyFormat")(e.row.amount))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"balance_total",label:"可用余额(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("currencyFormat")(e.row.balance_total))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"tran_status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.tran_status?[t._v("成功")]:t._e(),t._v(" "),0==e.row.tran_status?[t._v("等待验证")]:t._e(),t._v(" "),-1==e.row.tran_status?[t._v("失败")]:t._e(),t._v(" "),-2==e.row.tran_status?[t._v("部分成功")]:t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleClick(e)}}},[t._v("申请退款")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination-wrap",attrs:{"flex-box":"0",flex:"dir:right cross:center"}},[a("el-pagination",{attrs:{background:"","current-page":t.page_no,"page-sizes":[10,20,30,40],"page-size":t.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total_size},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});